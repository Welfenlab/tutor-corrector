<div class="correction" data-bind="template: { afterRender: onShow }">
  <div class="toolbar">
    <div class="ui icon buttons">
      <button class="ui button"
              data-bind="click: tool.bind($data, 'marker'), css: { active: tool() == 'marker'}">
        <i class="write icon"></i>
      </button>
      <button class="ui button"
              data-bind="click: tool.bind($data, 'highlighter'), css: { active: tool() == 'highlighter'}">
      <i class="paint brush icon"></i>
      </button>
      <button class="ui button"
              data-bind="click: tool.bind($data, 'text'), css: { active: tool() == 'text'}">
      <i class="font icon"></i>
      </button>
      <button class="ui button"
              data-bind="click: tool.bind($data, 'eraser'), css: { active: tool() == 'eraser'}">
        <i class="erase icon"></i>
      </button>
    </div>

    <div class="ui buttons">
      <button class="ui button"
              data-bind="click: color.bind($data, '#f00'), css: { red: color() == '#f00'}">
              Red
      </button>
      <button class="ui button"
              data-bind="click: color.bind($data, '#ff0'), css: { yellow: color() == '#ff0'}">
              Yellow
      </button>
      <button class="ui button"
              data-bind="click: color.bind($data, '#0f0'), css: { green: color() == '#0f0'}">
              Green
      </button>
    </div>

    <div class="ui icon buttons">
      <button class="ui button" title="Undo (Ctrl+Z)"
              data-bind="click: undo, css: { disabled: !canUndo()}">
        <i class="undo icon"></i>
      </button>
      <button class="ui button" title="Redo (Ctrl+Y, Ctrl+Shift+Z)"
              data-bind="click: redo, css: { disabled: !canRedo()}">
        <i class="repeat icon"></i>
      </button>
    </div>

    <div class="ui icon buttons">
      <button class="ui teal button" title="Save (Ctrl+S)"
              data-bind="click: save, css: { loading: isSaving, disabled: isSaved }">
        <i class="save icon"></i>
      </button>
    </div>
  </div>

  <!-- ko foreach: pages -->
  <div class="correctionPage">
    <canvas data-bind="template: { afterRender: $parent.registerCanvas.bind($parent, $data, $element), beforeRemove: $parent.unregisterCanvas.bind($parent, $element) }"></canvas>
  </div>
  <!-- /ko -->
</div>
